// Создайте текстовый файл `input.txt` и добавьте в него большой объем текста или повторяющуюся строку, например: "Копирование файлов с использованием потоков\n". Повторите эту строку несколько сотен раз.

// Напишите скрипт, который будет создавать читающий поток для файла `input.txt` с использованием метода `fs.createReadStream`.

// Создайте записывающий поток для нового файла `output.txt` с использованием метода `fs.createWriteStream`.

// Объедините читающий и записывающий потоки с помощью метода `pipe`.

// Обработайте событие `finish` для записывающего потока, чтобы вывести сообщение о завершении копирования.

// Обработайте события `error` для обоих потоков для обработки возможных ошибок при чтении и записи.

// Запустите ваш скрипт и убедитесь, что содержимое файла `input.txt` было успешно скопировано в `output.txt`.


import fs from 'fs';

// Создаём читающий поток для файла 'input4.txt'
const readStream = fs.createReadStream('input4.txt', { encoding: 'utf-8' });

// Создаём записывающий поток для файла 'output.txt'
const writeStream = fs.createWriteStream('output4.txt', { encoding: 'utf-8' });

// Связываем потоки чтения и записи
readStream.pipe(writeStream);

// Обрабатываем событие 'finish' для записывающего потока
writeStream.on('finish', () => {
    console.log('Копирование завершено!');
});

// Обрабатываем событие 'error' для читающего потока
readStream.on('error', (err) => {
    console.error('Ошибка при чтении файла:', err);
});

// Обрабатываем событие 'error' для записывающего потока
writeStream.on('error', (err) => {
    console.error('Ошибка при записи файла:', err);
});


