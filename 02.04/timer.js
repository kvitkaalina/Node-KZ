// Делаем счетчик так же как и в симулятор кликов
// В listener инкрементируем каунт и пишем сообщение мол прошла секунда
// Далее спустя 3 секунды генерим событие done, для этого реализуем проверку
// Регаем событие done, там может быть какой то текст внутри о выполнении
// Генерим событие спустя 3 секунды Но сделай это максимально понятно все распиши

const EventEmitter = require('events');
const emitter = new EventEmitter();

// Счетчик секунд
let secondsCount = 0;

// 1. Слушаем событие 'tick' (каждую секунду)
emitter.on('tick', () => {
  secondsCount++; // Увеличиваем счетчик
  console.log(`Прошла ${secondsCount} секунда`); // Выводим сообщение
  
  // Проверяем, если прошло 3 секунды - генерируем событие 'done'
  if (secondsCount === 3) {
    emitter.emit('done', 'Таймер завершил работу!'); // Генерируем событие окончания
  }
});

// 2. Слушаем событие 'done' (когда пройдет 3 секунды)
emitter.on('done', (message) => {
  console.log(message); // Выводим сообщение о завершении
  clearInterval(timer); // Останавливаем таймер
});

// 3. Запускаем таймер (каждую секунду генерируем 'tick')
const timer = setInterval(() => {
  emitter.emit('tick'); // Каждую секунду "тикаем"
}, 1000);

// Запуск программы:
console.log('Таймер запущен!');